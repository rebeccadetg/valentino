<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
  margin:0;
  background:black;
  color:white;
  font-family:-apple-system;
}

#scene {
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  text-align:center;
}

button {
  background:transparent;
  color:white;
  border:2px solid white;
  border-radius:12px;
  padding:12px 24px;
  font-size:22px;
}

#envelope {
  width:260px;
  height:160px;
  background:#ff3b30;
  border-radius:20px;
  display:flex;
  justify-content:center;
  align-items:center;
}

#letter {
  background:white;
  color:#ff3b30;
  border-radius:18px;
  padding:25px;
  width:85%;
  max-width:360px;
  height:380px;
  font-size:20px;
  line-height:1.4;
}

#buttons {
  margin-top:20px;
}

#heart {
  width:90px;
  height:90px;
  background:#ff3b30;
  border-radius:50%;
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:40px;
  margin:20px auto;
  cursor:pointer;
  animation: beat 1.2s infinite;
}

@keyframes beat {
  0% { transform: scale(1); }
  25% { transform: scale(1.1); }
  40% { transform: scale(1); }
  60% { transform: scale(1.15); }
  100% { transform: scale(1); }
}

.choice {
  font-size:48px;
  margin:20px;
  cursor:pointer;
}
</style>
</head>

<body>
<div id="scene"></div>

<script>
const scene = document.getElementById("scene")
let index = 0
let loveTaps = 0

let text = `Ciao Teo ‚ù§Ô∏è

Non ho bisogno di un giorno sul calendario per ricordarmi quanto io sia
fortunata ad averti, ma dopo quasi 7 anni che non festeggiamo San Valentino,
direi che √® ora e quindi ci ho pensato io



Vuoi essere il mio Valentino?`

/* BUSTA */
scene.innerHTML = `
<div id="envelope">
  <button onclick="openEnvelope()">APRI üíå</button>
</div>
`

function openEnvelope(){
  scene.innerHTML = `
    <div>
      <div id="letter"></div>
      <div id="buttons" style="display:none;">
        <button onclick="showDate()">S√å üíñ</button>
        <button onclick="moveNo(this)">NO üòÖ</button>
      </div>
    </div>
  `
  typeText()
}

/* LETTERA */
function typeText(){
  let letter = document.getElementById("letter")
  if(index < text.length){
    letter.innerHTML += text[index] === "\n" ? "<br>" : text[index]
    index++
    setTimeout(typeText, 40)
  } else {
    document.getElementById("buttons").style.display = "block"
  }
}

function moveNo(btn){
  btn.style.position="absolute"
  btn.style.left=Math.random()*80+"%"
  btn.style.top=Math.random()*80+"%"
}

/* DATA + CUORE */
function showDate(){
  scene.innerHTML = `
    <div>
      <div style="font-size:28px;">14.02 ‚Ä¢ ore 20:00</div>
      <div id="heart" onclick="showDestination()">‚ù§Ô∏è</div>
      <div>CLICCA QUI</div>
    </div>
  `
}

/* DESTINAZIONE */
function showDestination(){
  scene.innerHTML = `
    <div>
      <div style="font-size:22px;">
        Sapori d‚ÄôItalia üçù<br>
        Via Carlo Mezzacapo, 14/22<br>
        Roma
      </div><br>
      <button onclick="showSurprise()">Continua ‚ù§Ô∏è</button>
    </div>
  `
}

/* SCENA NUOVA */
function showSurprise(){
  scene.innerHTML = `
    <div style="font-size:28px;">
      Sei casa.<br>
      Sempre.
      <br><br>
      <button onclick="showLove()">PUSH ‚ù§Ô∏è</button>
    </div>
  `
}

/* TI AMO */
function showLove(){
  loveTaps = 0
  scene.innerHTML = `
    <div>
      <div style="font-size:64px;">TI AMO</div>
      <div style="font-size:64px; margin-top:20px; cursor:pointer;"
           onclick="tapLoveHeart()">‚ù§Ô∏è</div>
    </div>
  `
}

function tapLoveHeart(){
  loveTaps++
  if(loveTaps === 3){
    showSecret()
  }
}

/* SCENA SEGRETA */
function showSecret(){
  scene.innerHTML = `
    <div>
      <div class="choice" onclick="secretSmirk()">üòè</div>
      <div class="choice" onclick="secretShh()">ü§´</div>
    </div>
  `
}

function secretSmirk(){
  scene.innerHTML = `
    <div style="font-size:22px;">
      üòè<br><br>
      un po‚Äô di cioccolata<br>
      non fa male a nessuno,<br>
      soprattutto se √® 0 kcal
    </div>
  `
}

function secretShh(){
  scene.innerHTML = `
    <div style="font-size:22px;">
      ü§´<br><br>
      non prendere il dolce,<br>
      perch√© ti aspetta a casa
    </div>
  `
}
</script>
</body>
</html>